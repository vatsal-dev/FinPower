{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.KEYS = exports.WithOutContext = exports.WithContext = undefined;\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n  return target;\n};\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\nvar _react = require('react');\nvar _react2 = _interopRequireDefault(_react);\nvar _reactDnd = require('react-dnd');\nvar _reactDndHtml5Backend = require('react-dnd-html5-backend');\nvar _isEqual = require('lodash/isEqual');\nvar _isEqual2 = _interopRequireDefault(_isEqual);\nvar _noop = require('lodash/noop');\nvar _noop2 = _interopRequireDefault(_noop);\nvar _uniq = require('lodash/uniq');\nvar _uniq2 = _interopRequireDefault(_uniq);\nvar _ClearAllTags = require('./ClearAllTags');\nvar _ClearAllTags2 = _interopRequireDefault(_ClearAllTags);\nvar _Suggestions = require('./Suggestions');\nvar _Suggestions2 = _interopRequireDefault(_Suggestions);\nvar _propTypes = require('prop-types');\nvar _propTypes2 = _interopRequireDefault(_propTypes);\nvar _classnames = require('classnames');\nvar _classnames2 = _interopRequireDefault(_classnames);\nvar _Tag = require('./Tag');\nvar _Tag2 = _interopRequireDefault(_Tag);\nvar _utils = require('./utils');\nvar _constants = require('./constants');\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n  return target;\n}\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\n//Constants\n\nvar ReactTags = function (_Component) {\n  _inherits(ReactTags, _Component);\n  function ReactTags(props) {\n    _classCallCheck(this, ReactTags);\n    var _this = _possibleConstructorReturn(this, (ReactTags.__proto__ || Object.getPrototypeOf(ReactTags)).call(this, props));\n    _initialiseProps.call(_this);\n    if (!props.inline) {\n      /* eslint-disable no-console */\n      console.warn('[Deprecation] The inline attribute is deprecated and will be removed in v7.x.x, please use inputFieldPosition instead.');\n      /* eslint-enable no-console */\n    }\n\n    var suggestions = props.suggestions;\n    _this.state = {\n      suggestions: suggestions,\n      query: '',\n      isFocused: false,\n      selectedIndex: -1,\n      selectionMode: false,\n      ariaLiveStatus: '',\n      currentEditIndex: -1\n    };\n    _this.reactTagsRef = (0, _react.createRef)();\n    _this.handleFocus = _this.handleFocus.bind(_this);\n    _this.handleBlur = _this.handleBlur.bind(_this);\n    _this.handleKeyDown = _this.handleKeyDown.bind(_this);\n    _this.handleChange = _this.handleChange.bind(_this);\n    _this.moveTag = _this.moveTag.bind(_this);\n    _this.handlePaste = _this.handlePaste.bind(_this);\n    _this.handleSuggestionHover = _this.handleSuggestionHover.bind(_this);\n    _this.handleSuggestionClick = _this.handleSuggestionClick.bind(_this);\n    return _this;\n  }\n  _createClass(ReactTags, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _props = this.props,\n        autofocus = _props.autofocus,\n        readOnly = _props.readOnly;\n      if (autofocus && !readOnly) {\n        this.resetAndFocusInput();\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      if (!(0, _isEqual2.default)(prevProps.suggestions, this.props.suggestions)) {\n        this.updateSuggestions();\n      }\n    }\n  }, {\n    key: 'handleDelete',\n    value: function handleDelete(index, event) {\n      event.preventDefault();\n      event.stopPropagation();\n      var currentTags = this.props.tags.slice();\n      // Early exit from the function if the array\n      // is already empty\n      if (currentTags.length === 0) {\n        return;\n      }\n      var ariaLiveStatus = 'Tag at index ' + index + ' with value ' + currentTags[index].id + ' deleted.';\n      this.props.handleDelete(index, event);\n      var allTags = this.reactTagsRef.current.querySelectorAll('.ReactTags__remove');\n      var nextElementToFocus = void 0,\n        nextIndex = void 0,\n        nextTag = void 0;\n      if (index === 0 && currentTags.length > 1) {\n        nextElementToFocus = allTags[0];\n        nextIndex = 0;\n        nextTag = currentTags[1];\n      } else {\n        nextElementToFocus = allTags[index - 1];\n        nextIndex = index - 1;\n        nextTag = currentTags[nextIndex];\n      }\n      if (!nextElementToFocus) {\n        nextIndex = -1;\n        nextElementToFocus = this.textInput;\n      }\n      if (nextIndex >= 0) {\n        ariaLiveStatus += ' Tag at index ' + nextIndex + ' with value ' + nextTag.id + ' focussed. Press backspace to remove';\n      } else {\n        ariaLiveStatus += 'Input focussed. Press enter to add a new tag';\n      }\n      nextElementToFocus.focus();\n      this.setState({\n        ariaLiveStatus: ariaLiveStatus\n      });\n    }\n  }, {\n    key: 'handleTagClick',\n    value: function handleTagClick(i, tag, e) {\n      var _this2 = this;\n      var _props2 = this.props,\n        editable = _props2.editable,\n        handleTagClick = _props2.handleTagClick,\n        labelField = _props2.labelField;\n      if (editable) {\n        this.setState({\n          currentEditIndex: i,\n          query: tag[labelField]\n        }, function () {\n          _this2.tagInput.focus();\n        });\n      }\n      if (handleTagClick) {\n        handleTagClick(i, e);\n      }\n    }\n  }, {\n    key: 'handleChange',\n    value: function handleChange(e) {\n      if (this.props.handleInputChange) {\n        this.props.handleInputChange(e.target.value);\n      }\n      var query = e.target.value.trim();\n      this.setState({\n        query: query\n      }, this.updateSuggestions);\n    }\n  }, {\n    key: 'handleFocus',\n    value: function handleFocus(event) {\n      var value = event.target.value;\n      if (this.props.handleInputFocus) {\n        this.props.handleInputFocus(value);\n      }\n      this.setState({\n        isFocused: true\n      });\n    }\n  }, {\n    key: 'handleBlur',\n    value: function handleBlur(event) {\n      var value = event.target.value;\n      if (this.props.handleInputBlur) {\n        this.props.handleInputBlur(value);\n        if (this.textInput) {\n          this.textInput.value = '';\n        }\n      }\n      this.setState({\n        isFocused: false,\n        currentEditIndex: -1\n      });\n    }\n  }, {\n    key: 'handleKeyDown',\n    value: function handleKeyDown(e) {\n      var _state = this.state,\n        query = _state.query,\n        selectedIndex = _state.selectedIndex,\n        suggestions = _state.suggestions,\n        selectionMode = _state.selectionMode;\n\n      // hide suggestions menu on escape\n\n      if (e.keyCode === _constants.KEYS.ESCAPE) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.setState({\n          selectedIndex: -1,\n          selectionMode: false,\n          suggestions: [],\n          currentEditIndex: -1\n        });\n      }\n\n      // When one of the terminating keys is pressed, add current query to the tags.\n      // If no text is typed in so far, ignore the action - so we don't end up with a terminating\n      // character typed in.\n      if (this.props.delimiters.indexOf(e.keyCode) !== -1 && !e.shiftKey) {\n        if (e.keyCode !== _constants.KEYS.TAB || query !== '') {\n          e.preventDefault();\n        }\n        var selectedQuery = selectionMode && selectedIndex !== -1 ? suggestions[selectedIndex] : _defineProperty({\n          id: query\n        }, this.props.labelField, query);\n        if (selectedQuery !== '') {\n          this.addTag(selectedQuery);\n        }\n      }\n\n      // when backspace key is pressed and query is blank, delete tag\n      if (e.keyCode === _constants.KEYS.BACKSPACE && query === '' && this.props.allowDeleteFromEmptyInput) {\n        this.handleDelete(this.props.tags.length - 1, e);\n      }\n\n      // up arrow\n      if (e.keyCode === _constants.KEYS.UP_ARROW) {\n        e.preventDefault();\n        this.setState({\n          selectedIndex: selectedIndex <= 0 ? suggestions.length - 1 : selectedIndex - 1,\n          selectionMode: true\n        });\n      }\n\n      // down arrow\n      if (e.keyCode === _constants.KEYS.DOWN_ARROW) {\n        e.preventDefault();\n        this.setState({\n          selectedIndex: suggestions.length === 0 ? -1 : (selectedIndex + 1) % suggestions.length,\n          selectionMode: true\n        });\n      }\n    }\n  }, {\n    key: 'handlePaste',\n    value: function handlePaste(e) {\n      var _this3 = this;\n      if (!this.props.allowAdditionFromPaste) {\n        return;\n      }\n      e.preventDefault();\n      var clipboardData = e.clipboardData || window.clipboardData;\n      var clipboardText = clipboardData.getData('text');\n      var _props$maxLength = this.props.maxLength,\n        maxLength = _props$maxLength === undefined ? clipboardText.length : _props$maxLength;\n      var maxTextLength = Math.min(maxLength, clipboardText.length);\n      var pastedText = clipboardData.getData('text').substr(0, maxTextLength);\n\n      // Used to determine how the pasted content is split.\n      var delimiterRegExp = (0, _utils.buildRegExpFromDelimiters)(this.props.delimiters);\n      var tags = pastedText.split(delimiterRegExp);\n\n      // Only add unique tags\n      (0, _uniq2.default)(tags).forEach(function (tag) {\n        return _this3.addTag(_defineProperty({\n          id: tag\n        }, _this3.props.labelField, tag));\n      });\n    }\n  }, {\n    key: 'handleSuggestionClick',\n    value: function handleSuggestionClick(i) {\n      this.addTag(this.state.suggestions[i]);\n    }\n  }, {\n    key: 'handleSuggestionHover',\n    value: function handleSuggestionHover(i) {\n      this.setState({\n        selectedIndex: i,\n        selectionMode: true\n      });\n    }\n  }, {\n    key: 'moveTag',\n    value: function moveTag(dragIndex, hoverIndex) {\n      var tags = this.props.tags;\n\n      // locate tags\n      var dragTag = tags[dragIndex];\n\n      // call handler with the index of the dragged tag\n      // and the tag that is hovered\n      this.props.handleDrag(dragTag, dragIndex, hoverIndex);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n      var tagItems = this.getTagItems();\n      var classNames = _extends({}, _constants.DEFAULT_CLASSNAMES, this.props.classNames);\n\n      // get the suggestions for the given query\n      var query = this.state.query.trim(),\n        selectedIndex = this.state.selectedIndex,\n        suggestions = this.state.suggestions;\n      var _props3 = this.props,\n        placeholder = _props3.placeholder,\n        inputName = _props3.name,\n        inputId = _props3.id,\n        maxLength = _props3.maxLength,\n        inline = _props3.inline,\n        inputFieldPosition = _props3.inputFieldPosition,\n        inputValue = _props3.inputValue,\n        inputProps = _props3.inputProps,\n        clearAll = _props3.clearAll,\n        tags = _props3.tags;\n      var position = !inline ? _constants.INPUT_FIELD_POSITIONS.BOTTOM : inputFieldPosition;\n      var tagInput = !this.props.readOnly ? _react2.default.createElement('div', {\n        className: classNames.tagInput\n      }, _react2.default.createElement('input', _extends({}, inputProps, {\n        ref: function ref(input) {\n          _this4.textInput = input;\n        },\n        className: classNames.tagInputField,\n        type: 'text',\n        placeholder: placeholder,\n        'aria-label': placeholder,\n        onFocus: this.handleFocus,\n        onBlur: this.handleBlur,\n        onChange: this.handleChange,\n        onKeyDown: this.handleKeyDown,\n        onPaste: this.handlePaste,\n        name: inputName,\n        id: inputId,\n        maxLength: maxLength,\n        value: inputValue,\n        'data-automation': 'input',\n        'data-testid': 'input'\n      })), _react2.default.createElement(_Suggestions2.default, {\n        query: query,\n        suggestions: suggestions,\n        labelField: this.props.labelField,\n        selectedIndex: selectedIndex,\n        handleClick: this.handleSuggestionClick,\n        handleHover: this.handleSuggestionHover,\n        minQueryLength: this.props.minQueryLength,\n        shouldRenderSuggestions: this.props.shouldRenderSuggestions,\n        isFocused: this.state.isFocused,\n        classNames: classNames,\n        renderSuggestion: this.props.renderSuggestion\n      }), clearAll && tags.length > 0 && _react2.default.createElement(_ClearAllTags2.default, {\n        classNames: classNames,\n        onClick: this.clearAll\n      })) : null;\n      return _react2.default.createElement('div', {\n        className: (0, _classnames2.default)(classNames.tags, 'react-tags-wrapper'),\n        ref: this.reactTagsRef\n      }, _react2.default.createElement('p', {\n        role: 'alert',\n        className: 'sr-only',\n        style: {\n          position: 'absolute',\n          overflow: 'hidden',\n          clip: 'rect(0 0 0 0)',\n          margin: '-1px',\n          padding: 0,\n          width: '1px',\n          height: '1px',\n          border: 0\n        }\n      }, this.state.ariaLiveStatus), position === _constants.INPUT_FIELD_POSITIONS.TOP && tagInput, _react2.default.createElement('div', {\n        className: classNames.selected\n      }, tagItems, position === _constants.INPUT_FIELD_POSITIONS.INLINE && tagInput), position === _constants.INPUT_FIELD_POSITIONS.BOTTOM && tagInput);\n    }\n  }]);\n  return ReactTags;\n}(_react.Component);\nReactTags.propTypes = {\n  placeholder: _propTypes2.default.string,\n  labelField: _propTypes2.default.string,\n  suggestions: _propTypes2.default.arrayOf(_propTypes2.default.shape({\n    id: _propTypes2.default.string.isRequired\n  })),\n  delimiters: _propTypes2.default.arrayOf(_propTypes2.default.number),\n  autofocus: _propTypes2.default.bool,\n  inline: _propTypes2.default.bool,\n  // TODO: Remove in v7.x.x\n  inputFieldPosition: _propTypes2.default.oneOf([_constants.INPUT_FIELD_POSITIONS.INLINE, _constants.INPUT_FIELD_POSITIONS.TOP, _constants.INPUT_FIELD_POSITIONS.BOTTOM]),\n  handleDelete: _propTypes2.default.func,\n  handleAddition: _propTypes2.default.func,\n  onTagUpdate: _propTypes2.default.func,\n  handleDrag: _propTypes2.default.func,\n  handleFilterSuggestions: _propTypes2.default.func,\n  handleTagClick: _propTypes2.default.func,\n  allowDeleteFromEmptyInput: _propTypes2.default.bool,\n  allowAdditionFromPaste: _propTypes2.default.bool,\n  allowDragDrop: _propTypes2.default.bool,\n  handleInputChange: _propTypes2.default.func,\n  handleInputFocus: _propTypes2.default.func,\n  handleInputBlur: _propTypes2.default.func,\n  minQueryLength: _propTypes2.default.number,\n  shouldRenderSuggestions: _propTypes2.default.func,\n  removeComponent: _propTypes2.default.func,\n  autocomplete: _propTypes2.default.oneOfType([_propTypes2.default.bool, _propTypes2.default.number]),\n  readOnly: _propTypes2.default.bool,\n  classNames: _propTypes2.default.object,\n  name: _propTypes2.default.string,\n  id: _propTypes2.default.string,\n  maxLength: _propTypes2.default.number,\n  inputValue: _propTypes2.default.string,\n  tags: _propTypes2.default.arrayOf(_propTypes2.default.shape({\n    id: _propTypes2.default.string.isRequired,\n    className: _propTypes2.default.string\n  })),\n  allowUnique: _propTypes2.default.bool,\n  renderSuggestion: _propTypes2.default.func,\n  inputProps: _propTypes2.default.object,\n  editable: _propTypes2.default.bool,\n  clearAll: _propTypes2.default.bool,\n  onClearAll: _propTypes2.default.func\n};\nReactTags.defaultProps = {\n  placeholder: _constants.DEFAULT_PLACEHOLDER,\n  labelField: _constants.DEFAULT_LABEL_FIELD,\n  suggestions: [],\n  delimiters: [].concat(_toConsumableArray(_constants.KEYS.ENTER), [_constants.KEYS.TAB]),\n  autofocus: true,\n  inline: true,\n  // TODO: Remove in v7.x.x\n  inputFieldPosition: _constants.INPUT_FIELD_POSITIONS.INLINE,\n  handleDelete: _noop2.default,\n  handleAddition: _noop2.default,\n  allowDeleteFromEmptyInput: true,\n  allowAdditionFromPaste: true,\n  autocomplete: false,\n  readOnly: false,\n  allowUnique: true,\n  allowDragDrop: true,\n  tags: [],\n  inputProps: {},\n  onTagUpdate: _noop2.default,\n  editable: false,\n  clearAll: false,\n  handleClearAll: _noop2.default\n};\nvar _initialiseProps = function _initialiseProps() {\n  var _this5 = this;\n  this.filteredSuggestions = function (query) {\n    var suggestions = _this5.props.suggestions;\n    if (_this5.props.allowUnique) {\n      var existingTags = _this5.props.tags.map(function (tag) {\n        return tag.id.toLowerCase();\n      });\n      suggestions = suggestions.filter(function (suggestion) {\n        return !existingTags.includes(suggestion.id.toLowerCase());\n      });\n    }\n    if (_this5.props.handleFilterSuggestions) {\n      return _this5.props.handleFilterSuggestions(query, suggestions);\n    }\n    var exactSuggestions = suggestions.filter(function (item) {\n      return _this5.getQueryIndex(query, item) === 0;\n    });\n    var partialSuggestions = suggestions.filter(function (item) {\n      return _this5.getQueryIndex(query, item) > 0;\n    });\n    return exactSuggestions.concat(partialSuggestions);\n  };\n  this.getQueryIndex = function (query, item) {\n    return item[_this5.props.labelField].toLowerCase().indexOf(query.toLowerCase());\n  };\n  this.resetAndFocusInput = function () {\n    _this5.setState({\n      query: ''\n    });\n    if (_this5.textInput) {\n      _this5.textInput.value = '';\n      _this5.textInput.focus();\n    }\n  };\n  this.updateSuggestions = function () {\n    var _state2 = _this5.state,\n      query = _state2.query,\n      selectedIndex = _state2.selectedIndex;\n    var suggestions = _this5.filteredSuggestions(query);\n    _this5.setState({\n      suggestions: suggestions,\n      selectedIndex: selectedIndex >= suggestions.length ? suggestions.length - 1 : selectedIndex\n    });\n  };\n  this.addTag = function (tag) {\n    var _props4 = _this5.props,\n      tags = _props4.tags,\n      labelField = _props4.labelField,\n      allowUnique = _props4.allowUnique;\n    var currentEditIndex = _this5.state.currentEditIndex;\n    if (!tag.id || !tag[labelField]) {\n      return;\n    }\n    var existingKeys = tags.map(function (tag) {\n      return tag.id.toLowerCase();\n    });\n\n    // Return if tag has been already added\n    if (allowUnique && existingKeys.indexOf(tag.id.toLowerCase()) >= 0) {\n      return;\n    }\n    if (_this5.props.autocomplete) {\n      var possibleMatches = _this5.filteredSuggestions(tag[labelField]);\n      if (_this5.props.autocomplete === 1 && possibleMatches.length === 1 || _this5.props.autocomplete === true && possibleMatches.length) {\n        tag = possibleMatches[0];\n      }\n    }\n\n    // call method to add\n    if (currentEditIndex !== -1 && _this5.props.onTagUpdate) _this5.props.onTagUpdate(currentEditIndex, tag);else _this5.props.handleAddition(tag);\n\n    // reset the state\n    _this5.setState({\n      query: '',\n      selectionMode: false,\n      selectedIndex: -1,\n      currentEditIndex: -1\n    });\n    _this5.resetAndFocusInput();\n  };\n  this.clearAll = function () {\n    if (_this5.props.onClearAll) {\n      _this5.props.onClearAll();\n    }\n  };\n  this.getTagItems = function () {\n    var _props5 = _this5.props,\n      tags = _props5.tags,\n      labelField = _props5.labelField,\n      removeComponent = _props5.removeComponent,\n      readOnly = _props5.readOnly,\n      allowDragDrop = _props5.allowDragDrop;\n    var classNames = _extends({}, _constants.DEFAULT_CLASSNAMES, _this5.props.classNames);\n    var _state3 = _this5.state,\n      currentEditIndex = _state3.currentEditIndex,\n      query = _state3.query;\n    var moveTag = allowDragDrop ? _this5.moveTag : null;\n    return tags.map(function (tag, index) {\n      return _react2.default.createElement(_react2.default.Fragment, {\n        key: index\n      }, currentEditIndex === index ? _react2.default.createElement('div', {\n        className: classNames.editTagInput\n      }, _react2.default.createElement('input', {\n        ref: function ref(input) {\n          _this5.tagInput = input;\n        },\n        onFocus: _this5.handleFocus,\n        value: query,\n        onChange: _this5.handleChange,\n        onKeyDown: _this5.handleKeyDown,\n        onBlur: _this5.handleBlur,\n        className: classNames.editTagInputField,\n        onPaste: _this5.handlePaste,\n        'data-testid': 'tag-edit'\n      })) : _react2.default.createElement(_Tag2.default, {\n        index: index,\n        tag: tag,\n        labelField: labelField,\n        onDelete: _this5.handleDelete.bind(_this5, index),\n        moveTag: moveTag,\n        removeComponent: removeComponent,\n        onTagClicked: _this5.handleTagClick.bind(_this5, index, tag),\n        readOnly: readOnly,\n        classNames: classNames,\n        allowDragDrop: allowDragDrop\n      }));\n    });\n  };\n};\nvar WithContext = function WithContext(_ref2) {\n  var props = _objectWithoutProperties(_ref2, []);\n  return _react2.default.createElement(_reactDnd.DndProvider, {\n    backend: _reactDndHtml5Backend.HTML5Backend\n  }, _react2.default.createElement(ReactTags, props));\n};\nexports.WithContext = WithContext;\nexports.WithOutContext = ReactTags;\nexports.KEYS = _constants.KEYS;","map":{"version":3,"names":["Object","defineProperty","exports","value","KEYS","WithOutContext","WithContext","undefined","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react","require","_react2","_interopRequireDefault","_reactDnd","_reactDndHtml5Backend","_isEqual","_isEqual2","_noop","_noop2","_uniq","_uniq2","_ClearAllTags","_ClearAllTags2","_Suggestions","_Suggestions2","_propTypes","_propTypes2","_classnames","_classnames2","_Tag","_Tag2","_utils","_constants","obj","__esModule","default","_toConsumableArray","arr","Array","isArray","arr2","from","_objectWithoutProperties","keys","indexOf","_defineProperty","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","ReactTags","_Component","_this","getPrototypeOf","_initialiseProps","inline","console","warn","suggestions","state","query","isFocused","selectedIndex","selectionMode","ariaLiveStatus","currentEditIndex","reactTagsRef","createRef","handleFocus","bind","handleBlur","handleKeyDown","handleChange","moveTag","handlePaste","handleSuggestionHover","handleSuggestionClick","componentDidMount","_props","autofocus","readOnly","resetAndFocusInput","componentDidUpdate","prevProps","updateSuggestions","handleDelete","index","event","preventDefault","stopPropagation","currentTags","tags","slice","id","allTags","current","querySelectorAll","nextElementToFocus","nextIndex","nextTag","textInput","focus","setState","handleTagClick","tag","e","_this2","_props2","editable","labelField","tagInput","handleInputChange","trim","handleInputFocus","handleInputBlur","_state","keyCode","ESCAPE","delimiters","shiftKey","TAB","selectedQuery","addTag","BACKSPACE","allowDeleteFromEmptyInput","UP_ARROW","DOWN_ARROW","_this3","allowAdditionFromPaste","clipboardData","window","clipboardText","getData","_props$maxLength","maxLength","maxTextLength","Math","min","pastedText","substr","delimiterRegExp","buildRegExpFromDelimiters","split","forEach","dragIndex","hoverIndex","dragTag","handleDrag","render","_this4","tagItems","getTagItems","classNames","DEFAULT_CLASSNAMES","_props3","placeholder","inputName","name","inputId","inputFieldPosition","inputValue","inputProps","clearAll","position","INPUT_FIELD_POSITIONS","BOTTOM","createElement","className","ref","input","tagInputField","type","onFocus","onBlur","onChange","onKeyDown","onPaste","handleClick","handleHover","minQueryLength","shouldRenderSuggestions","renderSuggestion","onClick","role","style","overflow","clip","margin","padding","width","height","border","TOP","selected","INLINE","Component","propTypes","string","arrayOf","shape","isRequired","number","bool","oneOf","func","handleAddition","onTagUpdate","handleFilterSuggestions","allowDragDrop","removeComponent","autocomplete","oneOfType","object","allowUnique","onClearAll","defaultProps","DEFAULT_PLACEHOLDER","DEFAULT_LABEL_FIELD","concat","ENTER","handleClearAll","_this5","filteredSuggestions","existingTags","map","toLowerCase","filter","suggestion","includes","exactSuggestions","item","getQueryIndex","partialSuggestions","_state2","_props4","existingKeys","possibleMatches","_props5","_state3","Fragment","editTagInput","editTagInputField","onDelete","onTagClicked","_ref2","DndProvider","backend","HTML5Backend"],"sources":["/media/vatsalc/Others/Github Repos/expense-tracker/node_modules/react-tag-input/dist-modules/components/ReactTags.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.KEYS = exports.WithOutContext = exports.WithContext = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDnd = require('react-dnd');\n\nvar _reactDndHtml5Backend = require('react-dnd-html5-backend');\n\nvar _isEqual = require('lodash/isEqual');\n\nvar _isEqual2 = _interopRequireDefault(_isEqual);\n\nvar _noop = require('lodash/noop');\n\nvar _noop2 = _interopRequireDefault(_noop);\n\nvar _uniq = require('lodash/uniq');\n\nvar _uniq2 = _interopRequireDefault(_uniq);\n\nvar _ClearAllTags = require('./ClearAllTags');\n\nvar _ClearAllTags2 = _interopRequireDefault(_ClearAllTags);\n\nvar _Suggestions = require('./Suggestions');\n\nvar _Suggestions2 = _interopRequireDefault(_Suggestions);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _Tag = require('./Tag');\n\nvar _Tag2 = _interopRequireDefault(_Tag);\n\nvar _utils = require('./utils');\n\nvar _constants = require('./constants');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n//Constants\n\n\nvar ReactTags = function (_Component) {\n  _inherits(ReactTags, _Component);\n\n  function ReactTags(props) {\n    _classCallCheck(this, ReactTags);\n\n    var _this = _possibleConstructorReturn(this, (ReactTags.__proto__ || Object.getPrototypeOf(ReactTags)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    if (!props.inline) {\n      /* eslint-disable no-console */\n      console.warn('[Deprecation] The inline attribute is deprecated and will be removed in v7.x.x, please use inputFieldPosition instead.');\n      /* eslint-enable no-console */\n    }\n\n    var suggestions = props.suggestions;\n\n    _this.state = {\n      suggestions: suggestions,\n      query: '',\n      isFocused: false,\n      selectedIndex: -1,\n      selectionMode: false,\n      ariaLiveStatus: '',\n      currentEditIndex: -1\n    };\n    _this.reactTagsRef = (0, _react.createRef)();\n    _this.handleFocus = _this.handleFocus.bind(_this);\n    _this.handleBlur = _this.handleBlur.bind(_this);\n    _this.handleKeyDown = _this.handleKeyDown.bind(_this);\n    _this.handleChange = _this.handleChange.bind(_this);\n    _this.moveTag = _this.moveTag.bind(_this);\n    _this.handlePaste = _this.handlePaste.bind(_this);\n    _this.handleSuggestionHover = _this.handleSuggestionHover.bind(_this);\n    _this.handleSuggestionClick = _this.handleSuggestionClick.bind(_this);\n    return _this;\n  }\n\n  _createClass(ReactTags, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _props = this.props,\n          autofocus = _props.autofocus,\n          readOnly = _props.readOnly;\n\n\n      if (autofocus && !readOnly) {\n        this.resetAndFocusInput();\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      if (!(0, _isEqual2.default)(prevProps.suggestions, this.props.suggestions)) {\n        this.updateSuggestions();\n      }\n    }\n  }, {\n    key: 'handleDelete',\n    value: function handleDelete(index, event) {\n      event.preventDefault();\n      event.stopPropagation();\n      var currentTags = this.props.tags.slice();\n      // Early exit from the function if the array\n      // is already empty\n      if (currentTags.length === 0) {\n        return;\n      }\n      var ariaLiveStatus = 'Tag at index ' + index + ' with value ' + currentTags[index].id + ' deleted.';\n      this.props.handleDelete(index, event);\n      var allTags = this.reactTagsRef.current.querySelectorAll('.ReactTags__remove');\n      var nextElementToFocus = void 0,\n          nextIndex = void 0,\n          nextTag = void 0;\n      if (index === 0 && currentTags.length > 1) {\n        nextElementToFocus = allTags[0];\n        nextIndex = 0;\n        nextTag = currentTags[1];\n      } else {\n        nextElementToFocus = allTags[index - 1];\n        nextIndex = index - 1;\n        nextTag = currentTags[nextIndex];\n      }\n      if (!nextElementToFocus) {\n        nextIndex = -1;\n        nextElementToFocus = this.textInput;\n      }\n      if (nextIndex >= 0) {\n        ariaLiveStatus += ' Tag at index ' + nextIndex + ' with value ' + nextTag.id + ' focussed. Press backspace to remove';\n      } else {\n        ariaLiveStatus += 'Input focussed. Press enter to add a new tag';\n      }\n      nextElementToFocus.focus();\n      this.setState({\n        ariaLiveStatus: ariaLiveStatus\n      });\n    }\n  }, {\n    key: 'handleTagClick',\n    value: function handleTagClick(i, tag, e) {\n      var _this2 = this;\n\n      var _props2 = this.props,\n          editable = _props2.editable,\n          handleTagClick = _props2.handleTagClick,\n          labelField = _props2.labelField;\n\n      if (editable) {\n        this.setState({ currentEditIndex: i, query: tag[labelField] }, function () {\n          _this2.tagInput.focus();\n        });\n      }\n      if (handleTagClick) {\n        handleTagClick(i, e);\n      }\n    }\n  }, {\n    key: 'handleChange',\n    value: function handleChange(e) {\n      if (this.props.handleInputChange) {\n        this.props.handleInputChange(e.target.value);\n      }\n\n      var query = e.target.value.trim();\n\n      this.setState({ query: query }, this.updateSuggestions);\n    }\n  }, {\n    key: 'handleFocus',\n    value: function handleFocus(event) {\n      var value = event.target.value;\n      if (this.props.handleInputFocus) {\n        this.props.handleInputFocus(value);\n      }\n      this.setState({ isFocused: true });\n    }\n  }, {\n    key: 'handleBlur',\n    value: function handleBlur(event) {\n      var value = event.target.value;\n      if (this.props.handleInputBlur) {\n        this.props.handleInputBlur(value);\n        if (this.textInput) {\n          this.textInput.value = '';\n        }\n      }\n      this.setState({ isFocused: false, currentEditIndex: -1 });\n    }\n  }, {\n    key: 'handleKeyDown',\n    value: function handleKeyDown(e) {\n      var _state = this.state,\n          query = _state.query,\n          selectedIndex = _state.selectedIndex,\n          suggestions = _state.suggestions,\n          selectionMode = _state.selectionMode;\n\n      // hide suggestions menu on escape\n\n      if (e.keyCode === _constants.KEYS.ESCAPE) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.setState({\n          selectedIndex: -1,\n          selectionMode: false,\n          suggestions: [],\n          currentEditIndex: -1\n        });\n      }\n\n      // When one of the terminating keys is pressed, add current query to the tags.\n      // If no text is typed in so far, ignore the action - so we don't end up with a terminating\n      // character typed in.\n      if (this.props.delimiters.indexOf(e.keyCode) !== -1 && !e.shiftKey) {\n        if (e.keyCode !== _constants.KEYS.TAB || query !== '') {\n          e.preventDefault();\n        }\n\n        var selectedQuery = selectionMode && selectedIndex !== -1 ? suggestions[selectedIndex] : _defineProperty({ id: query }, this.props.labelField, query);\n\n        if (selectedQuery !== '') {\n          this.addTag(selectedQuery);\n        }\n      }\n\n      // when backspace key is pressed and query is blank, delete tag\n      if (e.keyCode === _constants.KEYS.BACKSPACE && query === '' && this.props.allowDeleteFromEmptyInput) {\n        this.handleDelete(this.props.tags.length - 1, e);\n      }\n\n      // up arrow\n      if (e.keyCode === _constants.KEYS.UP_ARROW) {\n        e.preventDefault();\n        this.setState({\n          selectedIndex: selectedIndex <= 0 ? suggestions.length - 1 : selectedIndex - 1,\n          selectionMode: true\n        });\n      }\n\n      // down arrow\n      if (e.keyCode === _constants.KEYS.DOWN_ARROW) {\n        e.preventDefault();\n        this.setState({\n          selectedIndex: suggestions.length === 0 ? -1 : (selectedIndex + 1) % suggestions.length,\n          selectionMode: true\n        });\n      }\n    }\n  }, {\n    key: 'handlePaste',\n    value: function handlePaste(e) {\n      var _this3 = this;\n\n      if (!this.props.allowAdditionFromPaste) {\n        return;\n      }\n\n      e.preventDefault();\n\n      var clipboardData = e.clipboardData || window.clipboardData;\n      var clipboardText = clipboardData.getData('text');\n\n      var _props$maxLength = this.props.maxLength,\n          maxLength = _props$maxLength === undefined ? clipboardText.length : _props$maxLength;\n\n\n      var maxTextLength = Math.min(maxLength, clipboardText.length);\n      var pastedText = clipboardData.getData('text').substr(0, maxTextLength);\n\n      // Used to determine how the pasted content is split.\n      var delimiterRegExp = (0, _utils.buildRegExpFromDelimiters)(this.props.delimiters);\n      var tags = pastedText.split(delimiterRegExp);\n\n      // Only add unique tags\n      (0, _uniq2.default)(tags).forEach(function (tag) {\n        return _this3.addTag(_defineProperty({ id: tag }, _this3.props.labelField, tag));\n      });\n    }\n  }, {\n    key: 'handleSuggestionClick',\n    value: function handleSuggestionClick(i) {\n      this.addTag(this.state.suggestions[i]);\n    }\n  }, {\n    key: 'handleSuggestionHover',\n    value: function handleSuggestionHover(i) {\n      this.setState({\n        selectedIndex: i,\n        selectionMode: true\n      });\n    }\n  }, {\n    key: 'moveTag',\n    value: function moveTag(dragIndex, hoverIndex) {\n      var tags = this.props.tags;\n\n      // locate tags\n      var dragTag = tags[dragIndex];\n\n      // call handler with the index of the dragged tag\n      // and the tag that is hovered\n      this.props.handleDrag(dragTag, dragIndex, hoverIndex);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n\n      var tagItems = this.getTagItems();\n      var classNames = _extends({}, _constants.DEFAULT_CLASSNAMES, this.props.classNames);\n\n      // get the suggestions for the given query\n      var query = this.state.query.trim(),\n          selectedIndex = this.state.selectedIndex,\n          suggestions = this.state.suggestions;\n\n      var _props3 = this.props,\n          placeholder = _props3.placeholder,\n          inputName = _props3.name,\n          inputId = _props3.id,\n          maxLength = _props3.maxLength,\n          inline = _props3.inline,\n          inputFieldPosition = _props3.inputFieldPosition,\n          inputValue = _props3.inputValue,\n          inputProps = _props3.inputProps,\n          clearAll = _props3.clearAll,\n          tags = _props3.tags;\n\n\n      var position = !inline ? _constants.INPUT_FIELD_POSITIONS.BOTTOM : inputFieldPosition;\n\n      var tagInput = !this.props.readOnly ? _react2.default.createElement(\n        'div',\n        { className: classNames.tagInput },\n        _react2.default.createElement('input', _extends({}, inputProps, {\n          ref: function ref(input) {\n            _this4.textInput = input;\n          },\n          className: classNames.tagInputField,\n          type: 'text',\n          placeholder: placeholder,\n          'aria-label': placeholder,\n          onFocus: this.handleFocus,\n          onBlur: this.handleBlur,\n          onChange: this.handleChange,\n          onKeyDown: this.handleKeyDown,\n          onPaste: this.handlePaste,\n          name: inputName,\n          id: inputId,\n          maxLength: maxLength,\n          value: inputValue,\n          'data-automation': 'input',\n          'data-testid': 'input'\n        })),\n        _react2.default.createElement(_Suggestions2.default, {\n          query: query,\n          suggestions: suggestions,\n          labelField: this.props.labelField,\n          selectedIndex: selectedIndex,\n          handleClick: this.handleSuggestionClick,\n          handleHover: this.handleSuggestionHover,\n          minQueryLength: this.props.minQueryLength,\n          shouldRenderSuggestions: this.props.shouldRenderSuggestions,\n          isFocused: this.state.isFocused,\n          classNames: classNames,\n          renderSuggestion: this.props.renderSuggestion\n        }),\n        clearAll && tags.length > 0 && _react2.default.createElement(_ClearAllTags2.default, { classNames: classNames, onClick: this.clearAll })\n      ) : null;\n\n      return _react2.default.createElement(\n        'div',\n        {\n          className: (0, _classnames2.default)(classNames.tags, 'react-tags-wrapper'),\n          ref: this.reactTagsRef },\n        _react2.default.createElement(\n          'p',\n          {\n            role: 'alert',\n            className: 'sr-only',\n            style: {\n              position: 'absolute',\n              overflow: 'hidden',\n              clip: 'rect(0 0 0 0)',\n              margin: '-1px',\n              padding: 0,\n              width: '1px',\n              height: '1px',\n              border: 0\n            } },\n          this.state.ariaLiveStatus\n        ),\n        position === _constants.INPUT_FIELD_POSITIONS.TOP && tagInput,\n        _react2.default.createElement(\n          'div',\n          { className: classNames.selected },\n          tagItems,\n          position === _constants.INPUT_FIELD_POSITIONS.INLINE && tagInput\n        ),\n        position === _constants.INPUT_FIELD_POSITIONS.BOTTOM && tagInput\n      );\n    }\n  }]);\n\n  return ReactTags;\n}(_react.Component);\n\nReactTags.propTypes = {\n  placeholder: _propTypes2.default.string,\n  labelField: _propTypes2.default.string,\n  suggestions: _propTypes2.default.arrayOf(_propTypes2.default.shape({\n    id: _propTypes2.default.string.isRequired\n  })),\n  delimiters: _propTypes2.default.arrayOf(_propTypes2.default.number),\n  autofocus: _propTypes2.default.bool,\n  inline: _propTypes2.default.bool, // TODO: Remove in v7.x.x\n  inputFieldPosition: _propTypes2.default.oneOf([_constants.INPUT_FIELD_POSITIONS.INLINE, _constants.INPUT_FIELD_POSITIONS.TOP, _constants.INPUT_FIELD_POSITIONS.BOTTOM]),\n  handleDelete: _propTypes2.default.func,\n  handleAddition: _propTypes2.default.func,\n  onTagUpdate: _propTypes2.default.func,\n  handleDrag: _propTypes2.default.func,\n  handleFilterSuggestions: _propTypes2.default.func,\n  handleTagClick: _propTypes2.default.func,\n  allowDeleteFromEmptyInput: _propTypes2.default.bool,\n  allowAdditionFromPaste: _propTypes2.default.bool,\n  allowDragDrop: _propTypes2.default.bool,\n  handleInputChange: _propTypes2.default.func,\n  handleInputFocus: _propTypes2.default.func,\n  handleInputBlur: _propTypes2.default.func,\n  minQueryLength: _propTypes2.default.number,\n  shouldRenderSuggestions: _propTypes2.default.func,\n  removeComponent: _propTypes2.default.func,\n  autocomplete: _propTypes2.default.oneOfType([_propTypes2.default.bool, _propTypes2.default.number]),\n  readOnly: _propTypes2.default.bool,\n  classNames: _propTypes2.default.object,\n  name: _propTypes2.default.string,\n  id: _propTypes2.default.string,\n  maxLength: _propTypes2.default.number,\n  inputValue: _propTypes2.default.string,\n  tags: _propTypes2.default.arrayOf(_propTypes2.default.shape({\n    id: _propTypes2.default.string.isRequired,\n    className: _propTypes2.default.string\n  })),\n  allowUnique: _propTypes2.default.bool,\n  renderSuggestion: _propTypes2.default.func,\n  inputProps: _propTypes2.default.object,\n  editable: _propTypes2.default.bool,\n  clearAll: _propTypes2.default.bool,\n  onClearAll: _propTypes2.default.func\n};\nReactTags.defaultProps = {\n  placeholder: _constants.DEFAULT_PLACEHOLDER,\n  labelField: _constants.DEFAULT_LABEL_FIELD,\n  suggestions: [],\n  delimiters: [].concat(_toConsumableArray(_constants.KEYS.ENTER), [_constants.KEYS.TAB]),\n  autofocus: true,\n  inline: true, // TODO: Remove in v7.x.x\n  inputFieldPosition: _constants.INPUT_FIELD_POSITIONS.INLINE,\n  handleDelete: _noop2.default,\n  handleAddition: _noop2.default,\n  allowDeleteFromEmptyInput: true,\n  allowAdditionFromPaste: true,\n  autocomplete: false,\n  readOnly: false,\n  allowUnique: true,\n  allowDragDrop: true,\n  tags: [],\n  inputProps: {},\n  onTagUpdate: _noop2.default,\n  editable: false,\n  clearAll: false,\n  handleClearAll: _noop2.default\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this5 = this;\n\n  this.filteredSuggestions = function (query) {\n    var suggestions = _this5.props.suggestions;\n\n    if (_this5.props.allowUnique) {\n      var existingTags = _this5.props.tags.map(function (tag) {\n        return tag.id.toLowerCase();\n      });\n      suggestions = suggestions.filter(function (suggestion) {\n        return !existingTags.includes(suggestion.id.toLowerCase());\n      });\n    }\n    if (_this5.props.handleFilterSuggestions) {\n      return _this5.props.handleFilterSuggestions(query, suggestions);\n    }\n\n    var exactSuggestions = suggestions.filter(function (item) {\n      return _this5.getQueryIndex(query, item) === 0;\n    });\n    var partialSuggestions = suggestions.filter(function (item) {\n      return _this5.getQueryIndex(query, item) > 0;\n    });\n    return exactSuggestions.concat(partialSuggestions);\n  };\n\n  this.getQueryIndex = function (query, item) {\n    return item[_this5.props.labelField].toLowerCase().indexOf(query.toLowerCase());\n  };\n\n  this.resetAndFocusInput = function () {\n    _this5.setState({ query: '' });\n    if (_this5.textInput) {\n      _this5.textInput.value = '';\n      _this5.textInput.focus();\n    }\n  };\n\n  this.updateSuggestions = function () {\n    var _state2 = _this5.state,\n        query = _state2.query,\n        selectedIndex = _state2.selectedIndex;\n\n    var suggestions = _this5.filteredSuggestions(query);\n\n    _this5.setState({\n      suggestions: suggestions,\n      selectedIndex: selectedIndex >= suggestions.length ? suggestions.length - 1 : selectedIndex\n    });\n  };\n\n  this.addTag = function (tag) {\n    var _props4 = _this5.props,\n        tags = _props4.tags,\n        labelField = _props4.labelField,\n        allowUnique = _props4.allowUnique;\n    var currentEditIndex = _this5.state.currentEditIndex;\n\n    if (!tag.id || !tag[labelField]) {\n      return;\n    }\n    var existingKeys = tags.map(function (tag) {\n      return tag.id.toLowerCase();\n    });\n\n    // Return if tag has been already added\n    if (allowUnique && existingKeys.indexOf(tag.id.toLowerCase()) >= 0) {\n      return;\n    }\n    if (_this5.props.autocomplete) {\n      var possibleMatches = _this5.filteredSuggestions(tag[labelField]);\n\n      if (_this5.props.autocomplete === 1 && possibleMatches.length === 1 || _this5.props.autocomplete === true && possibleMatches.length) {\n        tag = possibleMatches[0];\n      }\n    }\n\n    // call method to add\n    if (currentEditIndex !== -1 && _this5.props.onTagUpdate) _this5.props.onTagUpdate(currentEditIndex, tag);else _this5.props.handleAddition(tag);\n\n    // reset the state\n    _this5.setState({\n      query: '',\n      selectionMode: false,\n      selectedIndex: -1,\n      currentEditIndex: -1\n    });\n\n    _this5.resetAndFocusInput();\n  };\n\n  this.clearAll = function () {\n    if (_this5.props.onClearAll) {\n      _this5.props.onClearAll();\n    }\n  };\n\n  this.getTagItems = function () {\n    var _props5 = _this5.props,\n        tags = _props5.tags,\n        labelField = _props5.labelField,\n        removeComponent = _props5.removeComponent,\n        readOnly = _props5.readOnly,\n        allowDragDrop = _props5.allowDragDrop;\n\n    var classNames = _extends({}, _constants.DEFAULT_CLASSNAMES, _this5.props.classNames);\n\n    var _state3 = _this5.state,\n        currentEditIndex = _state3.currentEditIndex,\n        query = _state3.query;\n\n    var moveTag = allowDragDrop ? _this5.moveTag : null;\n    return tags.map(function (tag, index) {\n      return _react2.default.createElement(\n        _react2.default.Fragment,\n        { key: index },\n        currentEditIndex === index ? _react2.default.createElement(\n          'div',\n          { className: classNames.editTagInput },\n          _react2.default.createElement('input', {\n            ref: function ref(input) {\n              _this5.tagInput = input;\n            },\n            onFocus: _this5.handleFocus,\n            value: query,\n            onChange: _this5.handleChange,\n            onKeyDown: _this5.handleKeyDown,\n            onBlur: _this5.handleBlur,\n            className: classNames.editTagInputField,\n            onPaste: _this5.handlePaste,\n            'data-testid': 'tag-edit'\n          })\n        ) : _react2.default.createElement(_Tag2.default, {\n          index: index,\n          tag: tag,\n          labelField: labelField,\n          onDelete: _this5.handleDelete.bind(_this5, index),\n          moveTag: moveTag,\n          removeComponent: removeComponent,\n          onTagClicked: _this5.handleTagClick.bind(_this5, index, tag),\n          readOnly: readOnly,\n          classNames: classNames,\n          allowDragDrop: allowDragDrop\n        })\n      );\n    });\n  };\n};\n\nvar WithContext = function WithContext(_ref2) {\n  var props = _objectWithoutProperties(_ref2, []);\n\n  return _react2.default.createElement(\n    _reactDnd.DndProvider,\n    { backend: _reactDndHtml5Backend.HTML5Backend },\n    _react2.default.createElement(ReactTags, props)\n  );\n};\nexports.WithContext = WithContext;\nexports.WithOutContext = ReactTags;\nexports.KEYS = _constants.KEYS;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}